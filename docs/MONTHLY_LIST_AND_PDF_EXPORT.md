# 월별 제작의뢰서 확인 및 PDF 내보내기 정리

## 1. 월별 제작의뢰서 확인 — 현재 구현 여부

**이미 구현되어 있습니다.**

| 구분 | 구현 내용 |
|------|-----------|
| **UI** | 제작 의뢰 관리 목록 페이지에 **월(Month)** 필터가 있음. `<input type="month">`로 연·월 선택 (예: 2026년 2월). |
| **API** | `GET /api/jobs?month=YYYY-MM` 로 월별 조회. `month` 파라미터를 그대로 `getJobs({ month })`에 전달. |
| **데이터** | `src/lib/sheets.ts`의 `getJobs()`에서 `filters.month`가 있으면 `created_at` 기준 해당 연·월만 필터링. |
| **요약** | "이번 달 전체", "납기 7일 이내", "검수완료" 카드도 **선택한 월**에 해당하는 의뢰만 기준으로 집계됨. |

따라서 **월별로 제작의뢰서 확인**은 추가 개발 없이 현재 기능으로 가능합니다.

---

## 2. 월별 리스트 PDF 내보내기 — 현재 구현 여부

**현재는 PDF 내보내기 기능이 없습니다.**  
(코드베이스에 `pdf`, `export`, `내보내기` 관련 구현 없음)

---

## 3. PDF 내보내기 구현 가능 여부 및 방식

**구현 가능합니다.** 아래 두 가지 방식 중 선택할 수 있습니다.

### 방식 A: 클라이언트에서 PDF 생성 (권장)

- **흐름**: 목록 페이지에서 "PDF 내보내기" 버튼 클릭 → **현재 화면에 보이는 목록**(이미 월·상태·출력실·매체·검색 필터 적용됨)을 그대로 사용해 브라우저에서 PDF 생성 → 파일 다운로드.
- **장점**: 서버 부하 없음, 이미 로드된 `jobs` 배열 재사용, 구현이 단순.
- **구현 예시**:
  - `jspdf`, `jspdf-autotable` 등으로 테이블 PDF 생성.
  - 또는 `@react-pdf/renderer`로 React 컴포넌트처럼 레이아웃 정의 후 PDF 생성.
- **데이터 소스**: `ListPageClient`의 `jobs` state (현재 필터/검색 결과와 동일).

### 방식 B: 서버 API에서 PDF 생성

- **흐름**: "PDF 내보내기" 클릭 → `GET /api/jobs/export?month=YYYY-MM&format=pdf` 등 호출 → 서버에서 동일한 `getJobs({ month, ... })`로 데이터 조회 후 PDF 생성 → 스트림으로 응답.
- **장점**: 큰 목록도 서버 메모리에서 처리 가능, PDF 레이아웃을 한 곳에서 통일.
- **단점**: 서버에 PDF 라이브러리 필요 (예: `pdfkit`, `puppeteer` 등).

---

## 4. PDF에 넣을 수 있는 세부 정보

목록 테이블과 동일한 정보를 PDF에도 넣을 수 있습니다. (이미 `Job` 타입/API에 존재하는 값들입니다.)

| 항목 | 필드 | 비고 |
|------|------|------|
| **상태** | `status` | 접수, 진행, 납품, 검수완료, 완료 |
| **납기** | `due_date` | 예: 2026-02-16 |
| **매체** | `media_name` | 예: 주택+, 낱장 인쇄물, 물 자연 그리고 사람 |
| **유형** | `order_type` | 책자 / 낱장 (낱장일 때 "낱장" 표시 가능) |
| **수량** | `qty` | 예: 3부, 1종 1매 |
| **출력실** | `vendor` | 예: 크림팩토리, 크림 |
| **의뢰자** | `requester_name` | 예: 양예진, 김선호 |
| **생성일** | `created_at` | 예: 2026-02-15 20:52 (포맷팅 가능) |
| **파일** | `file_link` | URL 있으면 "있음" 또는 URL 문자열로 표기 가능 |
| **job_id** | `job_id` | 필요 시 PDF에 포함 가능 (상세 페이지 링크용 등) |

- **세부 정보 확인 가능 여부**: 위 항목은 모두 API·시트에서 오는 값이므로 **PDF에도 동일하게 출력 가능**하며, 목록 화면과 같은 수준의 “세부 정보 확인”이 PDF에서도 가능합니다.
- **추가로 넣고 싶은 정보** (예: 낱장일 때 `type_spec_snapshot` 요약)가 있으면, 해당 필드를 API/목록에서 노출한 뒤 PDF 레이아웃에 같은 방식으로 추가하면 됩니다.

---

## 5. 개발 가능 내용 요약

| 번호 | 내용 | 난이도 | 비고 |
|------|------|--------|------|
| 1 | **목록 페이지에 "PDF 내보내기" 버튼 추가** | 낮음 | 필터/검색 결과와 동일한 `jobs` 사용. |
| 2 | **클라이언트에서 현재 목록을 테이블 형태 PDF로 생성** | 중간 | `jspdf` + `jspdf-autotable` 또는 `@react-pdf/renderer` 도입. |
| 3 | **PDF 제목에 선택된 월 표기** | 낮음 | 예: "제작의뢰 목록 (2026년 2월)". |
| 4 | **PDF 본문에 상태·납기·매체·수량·출력실·의뢰자·생성일·파일(링크) 포함** | 낮음 | 위 표의 필드만 사용하면 됨. |
| 5 | **(선택) 서버 API로 PDF 생성** | 중간 | 월·필터 파라미터로 `getJobs()` 호출 후 PDF 응답. |

정리하면, **월별 확인은 이미 가능**하고, **월별(및 현재 필터) 리스트를 PDF로 내보내는 기능은 위와 같은 방식으로 구현 가능**하며, **PDF에도 목록과 동일한 세부 정보를 넣어 확인 가능**합니다.
